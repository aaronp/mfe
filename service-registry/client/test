#!/usr/bin/env -S scala-cli shebang -S 3  --dependency "com.lihaoyi::requests:0.8.0" 

// test via scala-cli --dependency "com.lihaoyi::requests:0.8.0"

val id = args.lift(0).getOrElse(sys.env.get("ID"))
val body = args.lift(1).getOrElse(sys.env.get("BODY"))
val hostPort = args.lift(1).getOrElse(sys.env.get("HOSTPORT"))

val url = s"$hostPort/api/v1/registry/$id"
println (args.mkString(s"url is $url from ${args.length} args: [", ", ", "]"))
ample","tags":["some","app"]}"""
val response = requests.post(url, data = body)
//requests.get("http://api.github.com/users/lihaoyi")
println (s"Got: $response")

sys.env.foreach(println)